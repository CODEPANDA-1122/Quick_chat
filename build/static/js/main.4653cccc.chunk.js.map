{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/Chats.js","components/Login.js","components/App.js","index.js"],"names":["auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","AuthContext","React","createContext","AuthProvider","_ref","children","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","user","SetUser","history","useHistory","useEffect","onAuthStateChanged","push","value","createElement","Provider","Chats","useContext","console","log","handleLogout","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","signOut","stop","apply","arguments","getFile","_ref2","_callee2","url","response","data","_context2","fetch","sent","blob","abrupt","File","type","_x","axios","get","headers","process","email","uid","then","catch","formdata","FormData","append","photoURL","avatar","name","post","error","className","onClick","ChatEngine","height","projectID","userName","userSecret","Login","id","signInWithRedirect","GoogleAuthProvider","GoogleOutlined","App","style","fontFamily","Router","Switch","Route","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4653cccc.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nexport const auth = firebase.initializeApp ({\r\n    apiKey: \"AIzaSyDPfFru89Cxdj_piUL3JHqDKdNn2TJAY0E\",\r\n    authDomain: \"unichat-7fdbb.firebaseapp.com\",\r\n    projectId: \"unichat-7fdbb\",\r\n    storageBucket: \"unichat-7fdbb.appspot.com\",\r\n    messagingSenderId: \"970144245901\",\r\n    appId: \"1:970144245901:web:7a1ba00cfeefe4904c5ac4\"\r\n  }).auth();","import React, { useContext, useState, useEffect} from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { auth} from '../firebase';\r\n\r\nconst AuthContext= React.createContext();\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\nexport const AuthProvider= ({ children }) =>{\r\n    const [loading, setLoading ]= useState(true);\r\n    const [user, SetUser]=useState(null);\r\n    const history =useHistory();\r\n    useEffect(() =>{\r\n        auth.onAuthStateChanged((user)=> {\r\n            SetUser(user);\r\n            setLoading(false);\r\n\r\n           if(user) history.push('/chats');\r\n    })\r\n    },[user,history]);\r\n\r\n    const value= { user};\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            { !loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}","import React,{useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ChatEngine } from \"react-chat-engine\";\r\nimport { auth} from '../firebase';\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nconst Chats=() =>{\r\n    const history =useHistory();\r\n    const { user }=useAuth();\r\n    const [loading, setLoading]=useState(true);\r\n    console.log(user);\r\n\r\n    const handleLogout= async () =>{\r\n        await auth.signOut();\r\n        history.push('/');\r\n    }\r\n\r\n    const getFile= async(url) =>{\r\n        const response = await fetch(url);\r\n        const data = await response.blob();\r\n\r\n        return new File([data], \"userPhoto.jpg\", { type: 'image/jpeg'})\r\n    }\r\n    useEffect(() => {\r\n        if(!user){\r\n            history.push('/');\r\n            return;\r\n\r\n        }\r\n\r\n        axios.get('https://api.chatengine.io/users/me',{\r\n            headers:{ \r\n                \"project-id\": process.env.REACT_APP_CHAT_ENGINE_ID,\r\n                \"user-name\": user.email,\r\n                \"user-secret\":user.uid,\r\n            }\r\n        })\r\n        .then(() =>{\r\n            setLoading(false);\r\n        })\r\n        .catch(() =>{\r\n            let formdata = new FormData();\r\n            formdata.append('email',user.email);\r\n            formdata.append('username', user.email);\r\n            formdata.append('secret',user.uid);\r\n            console.log(user.url)\r\n            getFile(user.photoURL)\r\n            .then((avatar) =>{\r\n                formdata.append('avatar', avatar ,avatar.name)\r\n\r\n                axios.post('https://api.chatengine.io/users',\r\n                formdata,\r\n                    { headers: { \"private-key\": process.env.REACT_APP_CHAT_ENGINE_KEY }}\r\n                )\r\n                .then(() => setLoading(false))\r\n                .catch((error) => console.log(error))\r\n            })\r\n        })\r\n    }, [user,history]);\r\n    if(!user || loading)  return 'Loading...';\r\n\r\n    return (\r\n        <div className=\"chats-page\">\r\n            <div className=\"nav-bar\">\r\n                <div className=\"logo-tab\">\r\n                    QuickChat\r\n\r\n                </div>\r\n                <div onClick={handleLogout} className=\"logout-tab\">\r\n                    Logout\r\n                </div>\r\n\r\n\r\n            </div>\r\n            <ChatEngine\r\n            height=\"calc(100vh-66px)\"\r\n            projectID= {process.env.REACT_APP_CHAT_ENGINE_ID}\r\n            userName= {user.email }\r\n            userSecret={ user.uid }\r\n              />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chats;","import React  from 'react';\r\nimport { GoogleOutlined, FacebookOutlined } from '@ant-design/icons' ;\r\nimport \"firebase/app\";\r\n\r\nimport { auth } from '../firebase';\r\nimport firebase from 'firebase/app';\r\n\r\nconst Login = () => {\r\n        return (\r\n            <div id=\"login-page\">\r\n                <div id=\"login-card\">\r\n                    <h2>Welcome to QuickChat!</h2>\r\n                    \r\n                    <div \r\n                    className=\"login-button google\"\r\n                    onClick={() => auth.signInWithRedirect(new firebase.auth.GoogleAuthProvider())}\r\n                    >\r\n                        <GoogleOutlined /> Sign In with Google\r\n                    </div>\r\n\r\n                    \r\n\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        );\r\n}\r\n\r\nexport default Login;","import React from \"react\"\r\n\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\n\r\n import { AuthProvider } from \"../contexts/AuthContext\"\r\n\r\nimport Chats from \"./Chats\"\r\nimport Login from \"./Login\"\r\n\r\nfunction App() {\r\n  return (\r\n    <div style={{ fontFamily: 'Avenir' }}>\r\n      <Router>\r\n        <AuthProvider>\r\n          <Switch>\r\n            <Route path=\"/chats\" component={Chats} />\r\n            <Route path=\"/\" component={Login} />\r\n          </Switch>\r\n        </AuthProvider>\r\n      </Router>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}